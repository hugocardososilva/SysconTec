<?xml version="1.0" encoding="ISO-8859-1" ?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">
<h:head>
</h:head>
<h:body>

	<ui:composition template="/template/template.xhtml">
	<ui:define name="divMain">
		
	
		
		<h:form id="condominioConfigForm" modal="true" >
			<p:confirmDialog global="true">
				<p:commandButton value="Sim" type="button"  icon="fa fa-check" styleClass="ui-confirmdialog-yes" />
				<p:commandButton value="Não" type="button" icon="fa fa-close" styleClass="ui-confirmdialog-no"/>
			
			
			</p:confirmDialog>
		
			
			<p:panel styleClass="botoes">
			<p:panelGrid columns="2" id="panelGrupoBotoesEditar" rendered= "#{condominioMB.editar eq true}">
					<p:commandButton value="Salvar" action="#{condominioMB.editarCondominio}" ajax="false" update=":condominioConfigForm" icon="fa fa-save" styleClass="btn btn-success"/>
					
					<p:commandButton icon="fa fa-close" immediate="true" styleClass="btn btn-warning"  value="Cancelar" action="condominio-config" update=":condominioConfigForm">
						<p:confirm header="Cancelar" message="Deseja mesmo cancelar?" icon="fa fa-warning" />
					</p:commandButton>
			
			</p:panelGrid>
			
			<p:panelGrid columns="2" rendered="#{condominioMB.editar eq false and condominioMB.novo eq false}">	
				<p:commandButton value="Editar" icon="fa fa-edit" styleClass="btn btn-warning" actionListener="#{condominioMB.habilitarEdicao}" update=":condominioConfigForm" immediate="true"/>
				
				
			
			</p:panelGrid>
			</p:panel>
			
			<p:panel>
			
			<p:spacer height="20px;"/>
			
				<p:panelGrid columns="2">	
				<f:facet name="header">
					<p:column  colspan="4">Configurações</p:column>
				
				</f:facet>
				
				
								
							
									<p:outputLabel for="diasSemUtilizar" value="Quantidade de dias para bloquear um prestador:" />
								
									<p:inputText id="diasSemUtilizar" value="#{condominioMB.condominio.diasSemUtilizarSistema}" required="true"  readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" />			
							
									<p:outputLabel for="maxMoradoresLote" value="Máximo de moradores por lote:"  />   
													
									<p:inputText id="maxMoradoresLote" readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" value="#{condominioMB.condominio.numeroMaximoMoradores}" required="true" size="5"/>
									
				</p:panelGrid>
				<p:panelGrid>
					<f:facet name="header" >
					<p:column colspan="4" >Informações</p:column>
				
				</f:facet>
						
						<p:row>
							<p:column>
						 		<p:outputLabel for="nome" value="Nome Completo do condomínio:" />
							</p:column>
							<p:column colspan="3">
								<p:inputText id="nome" value="#{condominioMB.condominio.nome}" required="true" 
											readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" 
											label="Senha" >
											
								</p:inputText>
							</p:column>
						</p:row>
						<p:row>
							
							<p:column>
								<p:outputLabel for="endereco" value="Endereço:" />
							</p:column>
							<p:column colspan="1">
								<p:inputText id="endereco" size="50"  readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" value="#{condominioMB.condominio.informacao.endereco}" required="true" label="Endereco" style="width:98%" />	
							</p:column >
							<p:column>
								<p:outputLabel for="numero" value="Número:" />	
							</p:column>
							<p:column>
								<p:inputText id="numero" readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" value="#{condominioMB.condominio.informacao.numero}" size="5" label="Numero" style="width:98%" />		
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="bairro" value="Bairro:" />	
							</p:column>
							<p:column colspan="3">
								<p:inputText id="bairro" readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" value="#{condominioMB.condominio.informacao.bairro}"  label="Bairro" style="width:98%"/>
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="complemento" value="Complemento:" />
							</p:column>
							<p:column colspan="3">
								<p:inputText id="complemento" readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" value="#{condominioMB.condominio.informacao.complemento}"  label="Complemento" style="width:98%"/>
							</p:column>
						
						</p:row>
						<p:row>
							<p:column >
								<p:outputLabel for="cidade" value="Cidade:" />
							</p:column>
							<p:column colspan="1">
								<p:inputText id="cidade" readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" value="#{condominioMB.condominio.informacao.cidade}" label="Cidade" />
							</p:column>
							<p:column>
								<p:outputLabel for="estado"  value="Estado:" />
							</p:column>
							<p:column>
								<p:inputText id="estado" readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" value="#{condominioMB.condominio.informacao.estado}"  label="Estado" maxlength="2" size="2" />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="cep"  value="CEP:" />
							</p:column>
							<p:column colspan="3">
								<p:inputText id="cep" readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" value="#{condominioMB.condominio.informacao.cep}" label="CEP" style="width:98%"  />
							</p:column>
						</p:row>
						<p:row>
							<p:column>
								<p:outputLabel for="email" value="Email:" />
							</p:column>
							<p:column colspan="3">
								<p:inputText id="email" readonly="#{condominioMB.editar eq false and condominioMB.novo eq false}" value="#{condominioMB.condominio.email}" required="true" label="Email" style="width:98%" />
							</p:column>
							
						
						</p:row>
						
			
			
			</p:panelGrid>
		
					</p:panel>			
					<p:panel id="tel" toggleable="true" header="Telefones" style="margin-bottom:20px">
						<p:panelGrid columns="2">
							<p:dataTable  id="telefones" var="tel" value="#{condominioMB.condominio.telefones}"
							emptyMessage="Não existem registros" rows="5" paginator="true">
							<f:facet name="header">
								 <p:outputPanel style="float:left;">
								 		<p:commandButton icon="fa fa-plus" type="button"  disabled="#{condominioMB.editar eq false and condominioMB.novo eq false}" onclick="PF('novoTelefoneWidiget').show();" update=":novoTelefonePessoaForm" styleClass="btn btn-success btn-lg" />
								 		
								 </p:outputPanel>
							</f:facet>
							
							<p:column headerText="DDD">
								<h:outputText value="#{tel.ddd}"/>
								
							</p:column>
							<p:column headerText="Número">
								<h:outputText value="#{tel.numero}"/>
								
							</p:column>
							<p:column headerText="Observações">
								<h:outputText value="#{tel.observacoes}"/>
								
							</p:column>
							<p:column headerText="Opções" style="width:100px;">
								 
								<p:commandButton icon="fa fa-remove" disabled="#{condominioMB.editar eq false and condominioMB.novo eq false}" 
								styleClass="btn btn-danger" action="#{condominioMB.removerTelefone}" update=":condominioConfigForm">
								<f:setPropertyActionListener value="#{tel}" target="#{condominioMB.telefone}"></f:setPropertyActionListener>
									<p:confirm header="Confimarção" message="Deseja mesmo remover?" icon="fa fa-warning"/>
								</p:commandButton>
								
							</p:column>
							
							</p:dataTable>
						</p:panelGrid>
					</p:panel>
					</h:form>
					
					
					<p:dialog widgetVar="novoTelefoneWidiget"
		id="novoTelefoneId" modal="true"
		closable="true" draggable="false" resizable="false" width="500px" height="200px">
		<f:facet name="header">
			<p:outputPanel>
				<h:outputText value="Adicionar Telefone"></h:outputText>
			</p:outputPanel>
		</f:facet>
		<h:form id="novoTelefoneForm" modal="true">
		
			<p:panelGrid columns="2">
				<h:outputText value="DDD" />
				<p:inputMask mask="99" value="#{condominioMB.telefone.ddd}" required="true" label="DDD" >
				
				</p:inputMask>
				<h:outputText value="Número" />
				<p:inputText value="#{condominioMB.telefone.numero}" required="true" label="Número" />
				
				<h:outputText value="Observações" />
				<p:inputText value="#{condominioMB.telefone.observacoes}" label="Observações" />
				
			</p:panelGrid>
			
			<p:panelGrid columns="2">
				<p:commandButton value="Salvar" icon="ui-icon-plus"
					action="#{condominioMB.salvarTelefone}"
					oncomplete="PF('novoTelefoneWidiget').hide();"
					update=":condominioConfigForm :novoTelefoneForm "/>
					
				<p:commandButton value="Cancelar" icon="ui-icon-cancel" actionListener="#{condominioMB.resetTelefone}"
					onclick="PF('novoTelefoneWidiget').hide();" type="button" />
			</p:panelGrid>
		</h:form>
	</p:dialog>
					
			
		
	
	
		
		
		
<!-- 		<ui:include src="/protected/funcionario/dialogs/novo-telefone.xhtml"/> -->
<!-- 		<ui:include src="/protected/funcionario/dialogs/tipos-servico-pessoa.xhtml"/> -->
<!-- 			<ui:include src="/protected/funcionario/dialogs/capturar-imagem.xhtml"/> -->
		
		</ui:define>
		
		
		
		<ui:define name="navbar">
		<ui:include src="/protected/funcionario/menu.xhtml"/>
		
		
		</ui:define>
	</ui:composition>
	
</h:body>
</html>